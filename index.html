<!-- head.html -->

<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript">
        var clevertap = {event:[], profile:[], region: 'eu1', account:[], onUserLogin:[], notifications:[], privacy:[]};
    // replace with the CLEVERTAP_ACCOUNT_ID with the actual ACCOUNT ID value from your Dashboard -> Settings page
    clevertap.account.push({ "id": "TEST-R78-KW5-K47Z" });
    clevertap.privacy.push({optOut: false}); //set the flag to true, if the user of the device opts out of sharing their data
    clevertap.privacy.push({useIP: false}); //set the flag to true, if the user agrees to share their IP data
    (function () {
            var wzrk = document.createElement('script');
            wzrk.type = 'text/javascript';
            wzrk.async = true;
            wzrk.src = ('https:' == document.location.protocol ? 'https://d2r1yp2w7bby2u.cloudfront.net' : 'http://static.clevertap.com') + '/js/clevertap.min.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(wzrk, s);
    })();
    </script>
    <title>Hello World</title>
</head>

<body>
    <h1>This is the Homepage or is it?</h1>

    <input type="text" id="identity" placeholder="Identity" />
    <input type="text" id="email" placeholder="Email" />
    <input type="text" id="name" placeholder="Name" />

    <button id="createProfile" onclick="userLogin()">Create Porfile</button>

    <label for="popupVersion">Choose Pop-up:</label>
    <select name="popupVersion" id="popup">
        <option value="1">1</option>
        <option value="2">2</option>
    </select>

    <button id="showPopup" onclick="eventPopup()">Show Pop-up</button>

    <button id="pushSubscribe" onclick="subscribePush()">Subscribe to push</button>

    <button id="pushNotification" onclick="clevertap.event.push('Web Button Click')">Subscribe to push</button>


    <p><a href="/tailPage">Go to Next Page</a></p>


</body>
<script>
    function userLogin() {
        var identity = document.getElementById("identity").value;
        var email = document.getElementById("email").value;
        var name = document.getElementById("name").value;

        clevertap.onUserLogin.push({
            "Site": {
                "Name": name,
                "Identity": identity,
                "Email": email
            }
        })
    }
</script>
<script>
    function eventPopup() {
        var popupVersion = document.getElementById("popup").value;

        if (popupVersion == 1) {
            clevertap.event.push("Web Pop-up 1")
        } else {
            clevertap.event.push("Web Pop-up 2")
        }
    }
</script>
<script>
    function subscribePush() {
        clevertap.notifications.push({
            "titleText": "Would you like to receive Push Notifications?",
            "bodyText": "We promise to only send you relevant content and not too frequently",
            "okButtonText": "Subscribe",
            "rejectButtonText": "No Thanks",
            // These are the default values. You can override them if you want
            "okButtonColor": "#0f7bff",
            "rejectButtonColor": "#aaaaaa",
            "askAgainTimeInSeconds": 10, //time after which the push prompt will re-appear, if the user clicks on 'No Thanks'
            "serviceWorkerPath": "/heyzeusvct.github.io/clevertap_sw.js" // The path where the service worker file is located relative to the root of your domain
        })
    }
</script>
</html>